<!DOCTYPE html>
<html lang="ukr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GetTogether</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="GetTogether-logo.png" type="image/x-icon">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script>
      
      function initMap() {
        const map = new google.maps.Map(document.getElementById("map"), {
          zoom: 15,
          disableDefaultUI: true,
        });

        // Try HTML5 geolocation
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(
            (position) => {
              const pos = {
                lat: position.coords.latitude,
                lng: position.coords.longitude,
              };

              map.setCenter(pos);

              setMarkers(map);
            },
            () => {
              // If the user denies the location request or an error occurs, fallback to a default location
              map.setCenter({ lat: 49.8440201, lng: 24.0236374 });
              setMarkers(map);
            }
          );
        } else {
          // Browser doesn't support Geolocation, fallback to a default location
          map.setCenter({ lat: 49.8440201, lng: 24.0236374 });
          setMarkers(map);
        }
      }

      const events = [];
      const selectedCategories = new Set();

      function setMarkers(map) {
        const svgData = `
        <svg xmlns="http://www.w3.org/2000/svg" width="104" height="113" viewBox="0 0 104 113" fill="none">
          <g filter="url(#filter0_d_605_14209)">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M20 5C14.4772 5 10 9.47715 10 15V59C10 64.5228 14.4772 69 20 69H32.8504L40.2329 76.3771C41.209 77.3525 42.791 77.3525 43.7671 76.3771L51.1496 69H64C69.5228 69 74 64.5228 74 59V15C74 9.47715 69.5228 5 64 5H20Z" fill="white"/>
          </g>
          <defs>
            <filter id="filter0_d_605_14209" x="0" y="0" width="104" height="112.109" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
              <feFlood flood-opacity="0" result="BackgroundImageFix"/>
              <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
              <feOffset dx="10" dy="15"/>
              <feGaussianBlur stdDeviation="10"/>
              <feColorMatrix type="matrix" values="0 0 0 0 0.827451 0 0 0 0 0.819608 0 0 0 0 0.847059 0 0 0 0.45 0"/>
              <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_605_14209"/>
              <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_605_14209" result="shape"/>
            </filter>
          </defs>
        </svg>
        `;

        const svgDataURL = `data:image/svg+xml;base64,${btoa(svgData)}`;
        let icon = svgDataURL;

        const image = {
          url: svgDataURL,
          size: new google.maps.Size(104, 113),
          origin: new google.maps.Point(0, 0),
          anchor: new google.maps.Point(52, 56.5),
        };

        const shape = {
          coords: [1, 1, 1, 20, 18, 20, 18, 1],
          type: "poly",
        };

        for (let i = 0; i < events.length; i++) {
          const event = events[i];

          if (event[3] != "undefined") {
            icon = `/markers/${event[3]}.webp`
          }

          new google.maps.Marker({
            position: { lat: event[1], lng: event[2]},
            map,
            icon: {
              url: icon,
              size: new google.maps.Size(104, 113),
              origin: new google.maps.Point(0, 0),
              anchor: new google.maps.Point(52, 56.5),
            },
            shape: shape,
            title: event[0],
          });
        }
      }

      function centerMap() {
        let map = initMap();
        if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const pos = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude,
                        };

                        map.setCenter(pos);
                    },
                    () => {
                        map.setCenter({
                            lat: 49.8440201,
                            lng: 24.0236374
                        });
                        setMarkers(map);
                    }
                );
            } else {
                map.setCenter({
                    lat: 49.8440201,
                    lng: 24.0236374
                });
                setMarkers(map);
            }   
        }

  document.addEventListener("DOMContentLoaded", function () {

    fetchEvents(selectedCategories);

    function fetchEvents(selectedCategories) {
    const endpoint = 'https://localhost:8081/api/event/get/all';

    fetch(endpoint)
      .then((response) => {
        if (!response.ok) {
          throw new Error(`HTTP error! Status: ${response.status}`);
        }
        return response.json();
      })
      .then((data) => {
        updateEvents(data, selectedCategories);

        const eventsContainer = document.getElementById('eventsContainer');
        eventsContainer.innerHTML = '';

        data.forEach(eventData => {
          const eventElement = createEventElement(eventData, selectedCategories);
          if (eventElement !== null) {
            eventsContainer.appendChild(eventElement);
          }
        });
      })
      .catch((error) => {
        console.error('Error fetching events:', error);
      });
  }


  function updateEvents(data, selectedCategories) {
    events.length = 0;

    data.forEach((event) => {
        let categories = [];

        if (event.type.length !== 0) {
            for (let i = 0; i < event.type.length; i++) {
                categories.push(event.type[i].name);
            }
        }

        let matchingCategories = categories.filter(category => selectedCategories.has(category));

        let needed = selectedCategories.size !== 0 ? (matchingCategories.length > 0 ? matchingCategories[0] : null) : (event.type.length > 0 ? event.type[0].name : null);

        // Check if the event has any selected category
        if (selectedCategories.size === 0 || matchingCategories.length > 0) {
            events.push([event.name, event.latitude, event.longitude, needed]);
        }
    });

    // Now update the markers on the map with the new events
    const map = initMap();
    setMarkers(map);
}

  fetchCategories();

  function fetchCategories() {
        const endpoint = 'https://localhost:8081/api/categories/all';

        fetch(endpoint)
            .then((response) => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                return response.json();
            })
            .then((data) => {
                // Once data is received, update the categories list
                updateCategoriesList(data);
            })
            .catch((error) => {
                console.error('Error fetching categories:', error);
            });
    }

  function updateCategoriesList(categories) {
        const categoryListMain = document.getElementById('category-list-main');

        // Iterate through the categories and create checkboxes
        categories.forEach((category, index) => {
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = category.id;
            checkbox.name = category.name;

            // Add an event listener to handle category selection
            checkbox.addEventListener('change', () => {
                if (checkbox.checked) {
                    selectedCategories.add(category.name);
                } else {
                    selectedCategories.delete(category.name);
                }

                // Fetch events again when categories are selected/deselected
                fetchEvents(selectedCategories);
            });

            const label = document.createElement('label');
            label.htmlFor = category.id;
            label.textContent = category.name;

            const div = document.createElement('div');
            div.className = 'category';
            div.appendChild(checkbox);
            div.appendChild(label);

            // Append the category div to the categoryListMain div
            categoryListMain.appendChild(div);

            if (index === 0) {
                div.classList.add('left');
            }
        });
    }
});

function createEventElement(eventData, selectedCategories) {
  const category = [];

  eventData.type.forEach(function (type) {
    if (selectedCategories.size === 0 || selectedCategories.has(type.name)) {
      category.push(type.name);
    }
  });

  if (selectedCategories.size === 0 || category.length !== 0) {
    const eventElement = document.createElement('div');
    eventElement.classList.add('event');

    // Parse start time
    const startTimeString = eventData.startTime;
    const startTime = new Date(startTimeString);

    // Extract date components
    const year = startTime.getFullYear();
    const month = startTime.getMonth() + 1;
    const day = startTime.getDate();

    // Extract time components
    let hours = startTime.getHours().toString().padStart(2, '0');
    let minutes = startTime.getMinutes().toString().padStart(2, '0');

    // Use .then() to handle the promise
    getFormattedAddress(eventData.latitude, eventData.longitude)
        .then(formattedAddress => {
            eventElement.innerHTML = `
                <div class="photo-event"></div>
                <div class="column">
                    <div class="event-name">${eventData.name}</div>
                    <div class="address-event">${formattedAddress}</div>
                    <div class="time-event">
                        <div class="date">${day}.${month}.${year}</div>
                        <div class="separator">
                            <svg xmlns="http://www.w3.org/2000/svg" width="4" height="5" viewBox="0 0 4 5" fill="none">
                                <circle cx="2" cy="2.5" r="2" fill="#DEDEDE"/>
                            </svg>
                        </div>
                        <div class="date">${hours}:${minutes}</div>
                    </div>
                </div>
                <div class="like" onclick="toggleLike(this)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <g clip-path="url(#clip0_782_1791)">
                            <path d="M10.8866 19.6603L10.8859 19.6596C8.30081 17.3155 6.19567 15.4057 4.73078 13.6147C3.27162 11.8307 2.5 10.2258 2.5 8.5C2.5 5.69614 4.69614 3.5 7.5 3.5C9.08861 3.5 10.6211 4.24197 11.6193 5.41417L12 5.8612L12.3807 5.41417C13.3789 4.24197 14.9114 3.5 16.5 3.5C19.3039 3.5 21.5 5.69614 21.5 8.5C21.5 10.2258 20.7284 11.8308 19.2691 13.6161C17.8065 15.4055 15.7058 17.3144 13.1265 19.6584L13.1148 19.669L13.1137 19.67L12.0013 20.675L10.8866 19.6603Z" stroke="#ACACAD"/>
                        </g>
                        <defs>
                            <clipPath id="clip0_782_1791">
                                <rect width="24" height="24" fill="white"/>
                            </clipPath>
                        </defs>
                    </svg>
                </div>
            `;
        })
        .catch(error => {
            console.error('Error getting formatted address:', error);
            eventElement.innerHTML = 'Address not available';
        });

    return eventElement;
  }

  return null; // Return null if the event doesn't match selected categories
}

function getFormattedAddress(latitude, longitude) {
  const apiKey = 'AIzaSyAdNLtdXEyIjmyLAHGNteoV0Y1gzp0y_CY'; // Replace with your own API key
  const apiUrl = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${latitude},${longitude}&key=${apiKey}`;

  return fetch(apiUrl)
    .then(response => {
      if (!response.ok) {
        throw new Error(`HTTP error! Status: ${response.status}`);
      }
      return response.json();
    })
    .then(data => {
      if (data.status === 'OK' && data.results.length > 0) {
        const formattedAddress = data.results[0].formatted_address;
        return formattedAddress;
      } else {
        throw new Error('No results found');
      }
    })
    .catch(error => {
      console.error('Error fetching address:', error);
      return 'Address not available';
    });
}

function toggleLike(likeButton) {
    // Toggle the fill color
    const isLiked = likeButton.classList.toggle('liked');
    const pathElement = likeButton.querySelector('path');
    pathElement.setAttribute('stroke', isLiked ? '#A689FF' : '#ACACAD');
    pathElement.style.fill = isLiked ? '#A689FF' : 'none';
}

function searchName(_eventName) {
  const endpoint = `http://localhost:3000/events/search?name=${encodeURIComponent(_eventName)}`;

  fetch(endpoint)
    .then((response) => {
      if (!response.ok) {
        throw new Error(`HTTP error! Status: ${response.status}`);
      }
      return response.json();
    })
    .then((data) => {
      // Handle the search results
      handleSearchResults(data);
    })
    .catch((error) => {
      console.error('Error searching events by name:', error);
    });
}

function handleSearchResults(searchResults) {
  // Assuming you have a function to update the UI with search results
  updateEvents(searchResults, selectedCategories);

  const eventsContainer = document.getElementById('eventsContainer');
  eventsContainer.innerHTML = '';

  let isFirstEvent = true;

  searchResults.forEach((eventData) => {
    const eventElement = createEventElement(eventData, selectedCategories, isFirstEvent);
    if (eventElement !== null) {
      eventsContainer.appendChild(eventElement);
    }
  });
}

// Assuming you have an input field for searching with the id "_eventName"
const searchButton = document.getElementById('search-button');
const eventNameInput = document.getElementById('_eventName');

function searching() {
  const eventNameInput = document.getElementById('_eventName');
  searchName(eventNameInput.value)
}


    </script>

    <style>
        #map {
            height: calc(100vh - 100vh/9 - 100vh/5.6 - 30px);
            margin-top: 0
        }

        #category-list-main {
          margin-top: 7px;
          margin-bottom: 0;
          /* margin-left: 35px; */
        }

        #add_event {
          background-color: #A689FF;
          border-radius: 50%;
          cursor: pointer;
          height: 72px;
          width: 72px;
          position: absolute;
          bottom: 0;
          transform: translateX(-50%);
          margin-bottom: calc(100vh / 9 - 36px);
          display: flex;
          flex-direction: column;
          align-items: center; 
          justify-content: center;
          filter: drop-shadow(0px 8px 20px rgba(130, 103, 213, 0.25));
      }

      #plus_main {
          height: 25px;
          width: 25px;
          background-color: #fff;
          border-radius: 20%;
          text-align: center;
          color: #A689FF;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 25px;
      }

        a {
            text-decoration: none;
            align-items: center;
            flex-direction: column;
        }

        .event {
            display: flex;
            width: 360px;
            height: 100px;
            padding: 6px;
            align-items: flex-start;
            gap: 8px;
            flex-shrink: 0;
            border-radius: 14px;
            background: var(--Main-White, #FFF);
        }

        .photo-event {
            flex: 1 0 0;
            align-self: stretch;
            border-radius: 10px;
            background: url(<path-to-image>), lightgray 50% / cover no-repeat;
        }

        .column {
            width: 210px;
            display: flex;
            height: 88px;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            gap: 5px;
        }

        .event-name {
          width: 210px;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 1;

            overflow: hidden;
            color: var(--Main-black, #26005C);
            text-overflow: ellipsis;

            /* Body-1 medium */
            font-family: Roboto;
            font-size: 16px;
            font-style: normal;
            font-weight: 500;
            line-height: normal;

        }

        .address-event {
          width: 210px;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 1;

            overflow: hidden;
            color: var(--Grey-2, #9A9A9A);
            text-overflow: ellipsis;

            /* Subtxt */
            font-family: Roboto;
            font-size: 12px;
            font-style: normal;
            font-weight: 400;
            line-height: 16px; /* 133.333% */
            letter-spacing: 0.4px;
        }

        .time-event {
            display: flex;
            align-items: center;
        }

        .separator {
            margin-left: 6px;
            margin-right: 6px;
        }

        .date {
            color: #A689FF;
            font-family: Roboto;
            font-size: 16px;
            font-style: normal;
            font-weight: 400;
            line-height: normal;
            justify-content: center;
        }

        .like {
            position: relative;
            right: 12px;
            top: 12px;
            margin-left: 8px;
            cursor: pointer;
            fill: none;
        }

        .events-container {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
        }
    </style>
</head>

<body>
    <div class="upper">
        <div id="upper-upper">
            <div class="name-main">
                <input type="text" id="_eventName" placeholder="Назва заходу">
                <div id="search-button">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <g clip-path="url(#clip0_732_4094)">
                      <path d="M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5C5 7.01 7.01 5 9.5 5C11.99 5 14 7.01 14 9.5C14 11.99 11.99 14 9.5 14Z" fill="#ACACAD"/>
                    </g>
                    <defs>
                      <clipPath id="clip0_732_4094">
                        <rect width="24" height="24" fill="white"/>
                      </clipPath>
                    </defs>
                  </svg>
                </div>
                
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none" onclick="centerMap()">
              <path d="M32.94 23C32.7135 20.9721 31.8042 19.0815 30.3613 17.6387C28.9185 16.1958 27.0279 15.2865 25 15.06V14C25 13.45 24.55 13 24 13C23.45 13 23 13.45 23 14V15.06C20.9721 15.2865 19.0815 16.1958 17.6387 17.6387C16.1958 19.0815 15.2865 20.9721 15.06 23H14C13.45 23 13 23.45 13 24C13 24.55 13.45 25 14 25H15.06C15.2865 27.0279 16.1958 28.9185 17.6387 30.3613C19.0815 31.8042 20.9721 32.7135 23 32.94V34C23 34.55 23.45 35 24 35C24.55 35 25 34.55 25 34V32.94C27.0279 32.7135 28.9185 31.8042 30.3613 30.3613C31.8042 28.9185 32.7135 27.0279 32.94 25H34C34.55 25 35 24.55 35 24C35 23.45 34.55 23 34 23H32.94ZM24 31C20.13 31 17 27.87 17 24C17 20.13 20.13 17 24 17C27.87 17 31 20.13 31 24C31 27.87 27.87 31 24 31Z" fill="#A689FF"/>
              <circle opacity="0.5" cx="24" cy="24" r="4" fill="#A689FF"/>
              <circle opacity="0.5" cx="24" cy="24" r="23.5" stroke="#ACACAD"/>
            </svg>
        </div>

        <div class="category-list" id="category-list-main"></div>
    </div>

    <div id="map"></div>

    <div id="bottom_main">
      <div class="events-container" id="eventsContainer"></div>
      <div id="bottom_buttons">
        <div id="navigation">
          <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23" fill="none">
            <path opacity="0.3" d="M11.5 12.5781C12.0954 12.5781 12.5781 12.0954 12.5781 11.5C12.5781 10.9046 12.0954 10.4219 11.5 10.4219C10.9046 10.4219 10.4219 10.9046 10.4219 11.5C10.4219 12.0954 10.9046 12.5781 11.5 12.5781Z" fill="#736783"/>
            <path opacity="0.3" d="M11.5 2.15625C6.34791 2.15625 2.15625 6.34791 2.15625 11.5C2.15625 16.6521 6.34791 20.8438 11.5 20.8438C16.6521 20.8438 20.8438 16.6521 20.8438 11.5C20.8438 6.34791 16.6521 2.15625 11.5 2.15625ZM16.2199 7.24725L14.114 12.5121C13.9694 12.8737 13.7528 13.2021 13.4775 13.4775C13.2021 13.7528 12.8737 13.9694 12.5121 14.114L7.24725 16.2199C7.18194 16.2461 7.11039 16.2525 7.04148 16.2383C6.97257 16.2242 6.90932 16.1902 6.85958 16.1404C6.80984 16.0907 6.77579 16.0274 6.76165 15.9585C6.74752 15.8896 6.75392 15.8181 6.78006 15.7528L8.886 10.4879C9.0306 10.1263 9.24715 9.79788 9.52252 9.52252C9.79788 9.24715 10.1263 9.0306 10.4879 8.886L15.7528 6.78006C15.8181 6.75392 15.8896 6.74752 15.9585 6.76165C16.0274 6.77579 16.0907 6.80984 16.1404 6.85958C16.1902 6.90932 16.2242 6.97257 16.2383 7.04148C16.2525 7.11039 16.2461 7.18194 16.2199 7.24725Z" fill="#9A9A9A"/>
          </svg>
            Навігація
        </div>

        <div id="events">
          <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23" fill="none">
            <g opacity="0.3">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M15.8521 2.73659L15.853 3.45498C18.4929 3.66188 20.2367 5.46073 20.2396 8.21935L20.25 16.2941C20.2538 19.3017 18.3642 21.1523 15.3355 21.1571L7.93722 21.1667C4.92739 21.1705 3.0142 19.2759 3.01041 16.2596L3.00001 8.27969C2.99622 5.50287 4.67855 3.70881 7.31841 3.46648L7.31747 2.74809C7.31652 2.32663 7.62876 2.00958 8.04509 2.00958C8.46141 2.00862 8.77365 2.32471 8.7746 2.74617L8.77555 3.41667L14.3959 3.409L14.395 2.73851C14.394 2.31705 14.7063 2.00096 15.1226 2C15.5294 1.99904 15.8511 2.31514 15.8521 2.73659ZM4.4581 8.57561L18.7834 8.55645V8.2212C18.7427 6.16182 17.7095 5.08136 15.8549 4.92044L15.8559 5.65799C15.8559 6.06986 15.5351 6.39649 15.1283 6.39649C14.712 6.39745 14.3988 6.07178 14.3988 5.6599L14.3978 4.88404L8.77745 4.8917L8.7784 5.66661C8.7784 6.07944 8.4671 6.40511 8.05078 6.40511C7.63446 6.40607 7.32127 6.08136 7.32127 5.66852L7.32032 4.93098C5.47525 5.11584 4.45431 6.20013 4.45715 8.27772L4.4581 8.57561ZM14.7306 12.9291V12.9397C14.74 13.3803 15.0996 13.7146 15.5358 13.705C15.9616 13.6944 16.3013 13.3295 16.2918 12.8889C16.2719 12.4674 15.9304 12.1236 15.5055 12.1245C15.0703 12.1341 14.7296 12.4885 14.7306 12.9291ZM15.5121 17.2299C15.0769 17.2203 14.7259 16.8573 14.7249 16.4167C14.7155 15.9761 15.0646 15.6111 15.4998 15.6006H15.5093C15.954 15.6006 16.3145 15.9636 16.3145 16.4138C16.3155 16.864 15.9559 17.2289 15.5121 17.2299ZM10.8321 12.9444C10.8511 13.385 11.2116 13.7288 11.6468 13.7097C12.0726 13.6896 12.4123 13.3256 12.3934 12.885C12.383 12.4539 12.0329 12.1187 11.6071 12.1196C11.1718 12.1388 10.8312 12.5037 10.8321 12.9444ZM11.6507 17.1867C11.2155 17.2059 10.8559 16.862 10.8361 16.4214C10.8361 15.9808 11.1757 15.6168 11.611 15.5967C12.0368 15.5957 12.3878 15.931 12.3973 16.3611C12.4171 16.8026 12.0765 17.1666 11.6507 17.1867ZM6.93371 12.9778C6.95263 13.4184 7.31313 13.7632 7.74838 13.7431C8.17417 13.724 8.51385 13.359 8.49398 12.9184C8.48452 12.4874 8.13443 12.1521 7.70769 12.1531C7.27245 12.1722 6.93277 12.5372 6.93371 12.9778ZM7.75216 17.1914C7.31692 17.2115 6.95737 16.8666 6.9375 16.426C6.93655 15.9854 7.27718 15.6205 7.71242 15.6013C8.13821 15.6004 8.48925 15.9356 8.49871 16.3666C8.51858 16.8073 8.1789 17.1722 7.75216 17.1914Z" fill="#9A9A9A"/>
            </g>
          </svg>
          Події
        </div>

        <a href="add_event.html">
          <div id="add_event">
            <div id="plus_main">
              +
            </div>
          </div>
        </a>

        <div id="map_button">
            <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M11.5281 1.91677C13.6939 1.92635 15.7639 2.78885 17.2781 4.30302C18.8018 5.82677 19.6548 7.88718 19.6452 10.0243V10.0722C19.5877 12.9759 17.9585 15.6497 15.9268 17.7388C14.7768 18.9176 13.5023 19.9622 12.1127 20.8438C11.7389 21.1601 11.1927 21.1601 10.8189 20.8438C8.75852 19.5022 6.93768 17.8155 5.46185 15.8509C4.1681 14.1451 3.43018 12.0943 3.35352 9.95718C3.37268 5.50093 7.03352 1.90718 11.5281 1.91677ZM11.5271 12.7075C12.2076 12.7075 12.8592 12.4488 13.3384 11.9792C13.8367 11.4904 14.1156 10.8397 14.1156 10.1583C14.1156 8.74001 12.9551 7.59959 11.5271 7.59959C10.0992 7.59959 8.94922 8.74001 8.94922 10.1583C8.94922 11.5585 10.0801 12.6883 11.4984 12.7075H11.5271Z" fill="#A689FF"/>
            </svg>
            Мапа
        </div>

        <div id="profile">
          <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23" fill="none">
            <g opacity="0.3">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M16.5356 7.09209C16.5356 9.95035 14.2824 12.2674 11.5031 12.2674C8.72369 12.2674 6.47056 9.95035 6.47056 7.09209C6.47056 4.23383 8.72369 1.91675 11.5031 1.91675C14.2824 1.91675 16.5356 4.23383 16.5356 7.09209ZM15.8226 15.1834C17.4227 15.5073 18.4673 16.036 18.915 16.8886C19.2513 17.554 19.2513 18.3462 18.915 19.0116C18.4673 19.8642 17.4641 20.4269 15.806 20.7168C15.0671 20.8658 14.3192 20.9626 13.5675 21.0067C12.871 21.0834 12.1746 21.0834 11.4699 21.0834H10.2014C9.93611 21.0493 9.67909 21.0323 9.43037 21.0323C8.67862 20.9936 7.93053 20.8996 7.19186 20.7509C5.59174 20.444 4.5471 19.8983 4.0994 19.0457C3.92657 18.7154 3.83545 18.3465 3.83409 17.9714C3.83049 17.594 3.91885 17.2218 4.0911 16.8886C4.53052 16.036 5.57516 15.4818 7.19186 15.1834C7.93379 15.0377 8.68443 14.9437 9.43866 14.902C10.8183 14.7908 12.2044 14.7908 13.5841 14.902C14.3354 14.9458 15.0831 15.0398 15.8226 15.1834Z" fill="#9A9A9A"/>
            </g>
          </svg>
            Профіль
        </div>
      </div>
    </div>

    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAdNLtdXEyIjmyLAHGNteoV0Y1gzp0y_CY&callback=initMap&v=weekly"
      defer
    ></script>
</body>

</html>